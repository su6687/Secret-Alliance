# 隐秘联盟 (Secret Alliance) - 基于FHEVM的隐私游戏

## 项目概述

隐秘联盟是一款基于FHEVM（全同态加密虚拟机）构建的创新区块链游戏，实现了真正的链上隐私保护。游戏结合了策略、推理和合作元素，所有敏感游戏数据都通过全同态加密技术保护，确保玩家信息的完全隐私。

## 游戏特色

### 🔐 真正的隐私保护
- 使用FHEVM技术，所有敏感数据在链上保持加密状态
- 玩家身份、角色、资源等信息完全隐私
- 支持加密状态下的复杂游戏逻辑运算

### 🎮 创新游戏机制
- **隐秘角色系统**：每个玩家的角色和能力都是加密的
- **私密资源管理**：资源数量和交易对其他玩家不可见
- **加密投票机制**：支持匿名投票和决策
- **隐私联盟**：玩家可以形成秘密联盟，成员身份加密

### 🌟 技术亮点
- 基于Zama的FHEVM框架
- 支持EVM兼容的智能合约
- 使用Solidity编写的加密智能合约
- 前端集成fhEVMJS SDK

## 游戏玩法

### 基础设定
游戏设定在一个神秘的未来世界，玩家扮演不同派系的特工，需要通过策略、推理和合作来完成各自的秘密任务。

### 角色系统
- **守护者 (Guardian)**：保护城市安全，需要识别并消除威胁
- **渗透者 (Infiltrator)**：秘密执行破坏任务，避免被发现
- **侦探 (Detective)**：拥有特殊调查能力，可以获取部分隐藏信息
- **商人 (Merchant)**：控制资源流动，可以影响游戏经济
- **黑客 (Hacker)**：可以干扰其他玩家的行动

### 游戏流程
1. **准备阶段**：玩家加入游戏房间，系统随机分配加密角色
2. **白天阶段**：玩家公开讨论，进行投票和资源交易
3. **夜晚阶段**：特殊角色执行秘密行动
4. **结算阶段**：系统处理所有加密操作并更新游戏状态

## 技术架构

```
前端应用 (React + fhEVMJS)
    ↓
智能合约层 (Solidity + FHEVM)
    ↓
FHE协处理器 (加密计算)
    ↓
区块链网络 (EVM兼容)
```

## 项目结构

```
隐秘联盟/
├── contracts/          # 智能合约
│   ├── GameCore.sol    # 核心游戏逻辑
│   ├── PlayerManager.sol # 玩家管理
│   ├── RoleSystem.sol  # 角色系统
│   └── VotingSystem.sol # 投票系统
├── frontend/           # 前端应用
│   ├── src/
│   ├── public/
│   └── package.json
├── scripts/            # 部署脚本
├── test/              # 测试文件
└── docs/              # 文档
```

## 开发环境要求

- Node.js >= 18.0.0
- Hardhat
- fhEVM SDK
- React 18+
- TypeScript

## 快速开始

1. 克隆项目
```bash
git clone <repository-url>
cd 隐秘联盟
```

2. 安装依赖
```bash
npm install
```

3. 编译合约
```bash
npx hardhat compile
```

4. 运行测试
```bash
npx hardhat test
```

5. 启动前端
```bash
cd frontend
npm start
```

## 隐私保护特性

### 数据加密
- 玩家角色：使用FHE加密，只有授权时才能解密
- 资源数量：加密存储，支持加密状态下的运算
- 投票选择：完全匿名，无法追踪投票者身份
- 联盟关系：成员身份加密，外部无法获知

### 安全机制
- 防止MEV攻击：所有交易内容加密
- 抗前置运行：无法预测其他玩家行动
- 公平游戏：消除信息不对称

## 贡献指南

欢迎贡献代码！请遵循以下步骤：

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License

## 联系我们

- 项目主页：[GitHub Repository]
- 技术文档：[Documentation]
- 社区讨论：[Discord/Telegram]

---

*基于FHEVM构建，为Web3游戏带来真正的隐私保护*